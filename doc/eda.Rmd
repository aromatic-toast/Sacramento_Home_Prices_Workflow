---
title: "EDA of Sacramento House Prices"
author: "Lesley Miller"
date: "2/8/2020"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = here::here())
```

```{r load libraries}
# load packages
suppressPackageStartupMessages(library(tidyverse))
```


```{r load data, tidy=TRUE}
# load training  data 
df <- read_csv("data/X_train.csv")
```

# Data Description 
[Data Source](https://support.spatialkey.com/spatialkey-sample-csv-data)

> This dataset contains information on various attributes of homes sold in and around the Sacramento, California area. The data is from real estate transactions taking place over a 5 day period. The data is from the website for the `SpatialKey` software and can be found [here](https://support.spatialkey.com/spatialkey-sample-csv-data)

```{r echo=FALSE}
num_examples <- nrow(df)
num_features <- ncol(df)
print(paste("The number of training examples is:", num_examples))
print(paste("The number of predictors is:", num_features))
```

## Summary of Predictors 
|Predictor | Type | Description |
|-----------|:--------:|---------:|
|city | categorical| The city where the house is located.|
|zip | categorical | The zip code where the house is located.|
|beds | categorical | The number of bedrooms in the house.|
|baths | categorical | The number of bathrooms in the house.|
|type | categorical | The type of dwelling as either `Residential`, `Condo` or `Multi-Family`. |
|sqft | continuous | The size of the house measured in square feet.|
|latitude| continuous | The latitude geospatial location of the house.|
|longitude| continuous | The longitude geospatial location of the house.|

## Distributions of Categorical Predictors 
```{r}
# get the categorical variables 
plots <- list()
cat_vars <- df %>% 
      select(-sqft, -latitude, -longitude)
for (variable in cat_vars) {
      freq <- as_tibble(as.data.frame(table(variable)))
      
      
}
# make a frequency table for houses in each city

```
```{r}
freq <- as_tibble(as.data.frame(table(df$baths)))
colnames(freq) <- c("Baths", "Frequency")

```


```{r}
make_ordered_barplot <- function(data, x, y){
      data %>% 
            ggplot(aes(x = reorder({{x}}, -{{y}}), y = {{y}})) + 
            geom_col() + 
            coord_flip()
}
```


```{r}
make_ordered_barplot(freq, Baths, Frequency)
```


